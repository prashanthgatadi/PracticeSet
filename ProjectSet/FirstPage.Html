<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Composite API Example</title>
    <link rel="stylesheet" type="text/css" href="FirstPage.Css">
    <script src="FirstPage.Js"></script>
</head>
<body>
    <h1>Insert Chat Summary and Update Messaging Session<span style="color: yellowgreen;">Hello</span></h1>

<p>I love you</p>

<h3>Let me know your availability</h3>
<h4 id="quick"> Hi are you available for quick call </h4>

<h5 class="bee">Prashanth Loves Padma </h5>



    <form id="chatForm">
        <label for="sessionId">Messaging Session ID:</label>
        <input type="text" id="sessionId" name="sessionId" required><br><br>

        <label for="summary">Chat Summary:</label><br>
        <textarea id="summary" name="summary" rows="5" cols="50" required></textarea><br><br>

        <label for="status">Session Status:</label>
        <select id="status" name="status" required>
            <option value="InProgress">InProgress</option>
            <option value="Completed">Completed</option>
        </select><br><br>

        <button type="submit">Submit</button>
    </form>

    <p id="response"></p>
    <img src="data:image/jpeg;base64,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"
alt="image loading is failed"/>
    <script>
        document.getElementById('chatForm').addEventListener('submit', async function (event) {
            event.preventDefault();

            // Gather form inputs
            const sessionId = document.getElementById('sessionId').value;
            const summary = document.getElementById('summary').value;
            const status = document.getElementById('status').value;

            // Composite API payload
            const payload = {
                compositeRequest: [
                    {
                        method: "POST",
                        url: "/services/data/v57.0/sobjects/MessagingEndUserSummary/",
                        referenceId: "NewChatSummary",
                        body: {
                            MessagingSessionId: sessionId,
                            Summary: summary
                        }
                    },
                    {
                        method: "PATCH",
                        url: `/services/data/v57.0/sobjects/MessagingSession/${sessionId}`,
                        referenceId: "UpdateSessionStatus",
                        body: {
                            SessionStatus: status
                        }
                    }
                ]
            };

            // Replace with your Salesforce instance URL and Access Token
            const instanceUrl = "https://yourInstance.salesforce.com";
            const accessToken = "YOUR_ACCESS_TOKEN";

            try {
                const response = await fetch(`${instanceUrl}/services/data/v57.0/composite`, {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${accessToken}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();

                if (response.ok) {
                    document.getElementById('response').innerText = 
                        "Chat Summary and Session updated successfully!";
                } else {
                    document.getElementById('response').innerText = 
                        `Error: ${JSON.stringify(data)}`;
                }
            } catch (error) {
                document.getElementById('response').innerText = 
                    `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
